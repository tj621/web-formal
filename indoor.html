<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>indoor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="css/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="css/flat-ui.css" rel="stylesheet">
<link href="css/diy.css" rel="stylesheet">
<link rel="shortcut icon" href="img/favicon.ico">
<script src="http://apps.bdimg.com/libs/angular.js/1.4.6/angular.min.js"></script>
<script src="js/vendor/jquery.min.js"></script>
<script src="js/flat-ui.min.js"></script>
<script src="assets/js/application.js"></script>

  </head>
  <body>
    <div class="container" ng-app="myApp" ng-controller="customersCtrl">
   <h3> 温室 <small>tongji</small></h3>
      <div class="row">
        <div class="col-xs-12">
          <nav class="navbar navbar-inverse navbar-embossed" role="navigation">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-01">
                <span class="sr-only">Toggle navigation</span>
              </button>
              <a class="navbar-brand" href="indoor.html">首页</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-collapse-01">
              <ul class="nav navbar-nav navbar-left">
                    <li><a href="indoor.html">室内外数据</a></li>
                    <li><a href="action.html">执行机构</a></li>
                    <li><a href="diagraph.html">图表</a></li>
                    <li><a href="#">关于</a></li>
                  </ul>

               
               <ul class="nav navbar-nav navbar-right">
                <li><a href="login.html"><span class="fui-user"></span>登录</a></li>
                  
                      
              </ul> 
            </div><!-- /.navbar-collapse -->
          </nav><!-- /navbar -->
        </div>
      </div> <!-- /row -->


<div class="row">
<div class="box-left">
<h4 class="tile-title">室内数据</h4>

        <div class="pallete-item">
            <dl class="palette palette-turquoise">
                <dt>温度 :{{indoordata["1"].temperature}}℃</dt>
              </dl>
               <dl class="palette palette-green-sea">
                <dt>光照 :{{indoordata["1"].radiation}}lx</dt>
              </dl>
         </div>

      <div class="pallete-item">
          <dl class="palette palette-turquoise">
                <dt>湿度 :{{indoordata["1"].humidity}}%</dt>
              </dl>
              <dl class="palette palette-green-sea">
                <dt>co2 :{{indoordata["1"].co2}}ppm</dt>
              </dl>
       </div>

</div> <!--  box-left -->

 <div class=box-right> 
  <h4 class="tile-title">室外数据</h4>
             <div class="pallete-item">
            <dl class="palette palette-turquoise">
                      <dt>温度 :{{outdoordata.temperature}}℃</dt>
                    </dl>
            <dl class="palette palette-green-sea">
                      <dt>风向 :{{outdoordata.wind_direction}}</dt>
                    </dl>
         </div>

          <div class="pallete-item">
            <dl class="palette palette-turquoise">
                <dt>湿度 :{{outdoordata.humidity}}%</dt>
              </dl>
               <dl class="palette palette-green-sea">
                <dt>风速 :{{outdoordata.wind_speed}}</dt>
              </dl>
        </div>

        <div class="pallete-item">
            <dl class="palette palette-turquoise">
                <dt>光照 :{{outdoordata.radiation}}lx</dt>
              </dl>
              <dl class="palette palette-green-sea">
                <dt>下雨 :{{outdoordata.rain}}</dt>
              </dl>
       </div>

        <div class="pallete-item">
             <dl class="palette palette-turquoise">
                <dt>co2 :{{outdoordata.co2}}ppm</dt>
            </dl>
              <dl class="palette palette-green-sea">
                <dt>大气压 :{{outdoordata.atmosphere}}</dt>
               
            </dl>
        </div>
   

</div>  <!-- box-right -->
</div> <!-- row -->
       <div class="box">
          <table border="1" width=100%>
            <tr>
              <td>节点</td>
              <td>温度</td>
               <td>湿度</td>
               <td>光照</td>
                <td>co2</td>
            </tr>
            <tr ng-repeat="(a,b) in indoordata">
              
              <td>{{a}}</td>
              
              <td>{{b.temperature}}℃</td>
             
              <td>{{b.humidity}}%</td>
              
              <td>{{b.radiation}}lx</td>
             
              <td>{{b.co2}}ppm</td>
            </tr> 


          </table>
       </div> <!-- box -->
 

<!--  <h4 class="demo-panel-title">室外数据</h4>

    <div class="row">
        <div class="pallete-item">
            <dl class="palette palette-turquoise">
                      <dt>温度 :{{outdoordata.temperature}}℃</dt>
                    </dl>
            <dl class="palette palette-green-sea">
                      <dt>风向 :{{outdoordata.wind_direction}}</dt>
                    </dl>
         </div>

          <div class="pallete-item">
            <dl class="palette palette-turquoise">
                <dt>湿度 :{{outdoordata.humidity}}%</dt>
              </dl>
               <dl class="palette palette-green-sea">
                <dt>风速 :{{outdoordata.wind_speed}}</dt>
              </dl>
        </div>

        <div class="pallete-item">
            <dl class="palette palette-turquoise">
                <dt>光照 :{{outdoordata.radiation}}lx</dt>
              </dl>
              <dl class="palette palette-green-sea">
                <dt>下雨 :{{outdoordata.rain}}</dt>
              </dl>
       </div>

        <div class="pallete-item">
             <dl class="palette palette-turquoise">
                <dt>co2 :{{outdoordata.co2}}ppm</dt>
            </dl>
              <dl class="palette palette-green-sea">
                <dt>大气压 :{{outdoordata.atmosphere}}</dt>
               
            </dl>
        </div>
   </div>
 -->
<p>
{{indoordata["1"].update_time}}

</p>
    </div>
    <!-- /.container -->


<script>
var app = angular.module('myApp', []);
app.controller('customersCtrl', function($scope, $http) {
  var one="1";
  $http.get("http://121.43.106.119:8020/indoor").success(function (response) {$scope.indoordata = response;});
  $http.get("http://121.43.106.119:8020/outdoor").success(function (response) {$scope.outdoordata = response.outdoor;});


// $scope.postdata=function(payload){var data2 = payload;var headers2 ={'Content-Type':'application/json; charset=UTF-8'};$http({method:'POST',url:'http://127.0.0.1:8020/control',headers:headers2,data:data2})
//           .success(function(response){$scope.temp=response;});   };


  // $scope.get=function() { var data2 = {"roof_vent_south": "off"};var headers2 ={'Content-Type':'application/json'};$http({method:'POST',url:'http://127.0.0.1:8020/control',data:data2,headers:headers2})
  //         .success(function(response){$scope.temp=response;});   };
  
  });
</script>
  </body>
</html>
